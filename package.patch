12a13,23
>         <datafeed name="stsim_RunControl" type="Input" />
>         <datafeed name="stsim_Stratum" type="Input" />
>         <datafeed name="stsim_SecondaryStratum" type="Input" />
>         <datafeed name="stsim_StateClass" type="Input" />
>         <datafeed name="stsim_InitialConditionsSpatial" type="Input" />
>         <datafeed name="stsim_OutputSpatialState" type="Input" />
>         <datafeed name="stsim_OutputSpatialTST" type="Input" />
>         <datafeed name="stsimsf_OutputSpatialStockGroup" type="Input" />
>         <datafeed name="stsimsf_StockType" type="Input" />
>         <datafeed name="stsimsf_StockGroup" type="Input" />
>         <datafeed name="stsimsf_StockGroupMembership" type="Input" />
101c112,113
<                 <column name="FileName" displayName="Habitat Probability" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" />
---
>                 <column name="FileName" displayName="Habitat Probability" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" bandColumn="Band" bandFilterColumn="Species"/>
>                 <column name="Band" displayName="Band" dataType="Integer" allowDbNull="True" isOptional="True" isVisible="False"/>
129,131c141,144
<                 <column name="Iteration" dataType="Integer" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="1" format="d" isCompositeIndex="True" />
<                 <column name="Timestep" dataType="Integer" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="0" format="d" isCompositeIndex="True" />
<                 <column name="FileName" displayName="Site Raster" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" />
---
>                 <column name="Iteration" dataType="Integer" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="1" format="d" isCompositeIndex="True" isVisible="False"/>
>                 <column name="Timestep" dataType="Integer" validationType="WholeNumber" validationCondition="GreaterEqual" formula1="0" format="d" isCompositeIndex="True" isVisible="False"/>
>                 <column name="FileName" displayName="Site Raster" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" bandColumn="Band"/>
>                 <column name="Band" displayName="Band" dataType="Integer" allowDbNull="True" isOptional="True" isVisible="False"/>
145c158,159
<                 <column name="FileName" displayName="Average Habitat Probability" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" />
---
>                 <column name="FileName" displayName="Average Habitat Probability" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" bandColumn="Band" bandFilterColumn="Species"/>
>                 <column name="Band" displayName="Band" dataType="Integer" allowDbNull="True" isOptional="True" isVisible="False"/>
171c185
<                 <column name="FileName" displayName="Habitat Probability Change" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" />
---
>                 <column name="FileName" displayName="Habitat Probability Change" dataType="String" isExternalFile="True" externalFileFilter="GeoTIFF Files (*.tif)|*.tif|All Files (*.*)|*.*" isRaster="True" bandColumn="Band" bandFilterColumn="Species"/>
172a187
>                 <column name="Band" displayName="Band" dataType="Integer" allowDbNull="True" isOptional="True" isVisible="False"/>
186,194c201,209
<       <item name="HabitatModel" />
<       <item name="OutputOptions" />
<       <item name="OutputOptionsSpatial" />
<       <item name="OutputSpatialHabitat" />
<       <item name="OutputHabitatAmount" />
<       <item name="SiteValue" />
<       <item name="OutputSpatialAverageHabitat" />
<       <item name="InvalidHabitat" />
<       <item name="OutputSpatialHabitatChange" />
---
>       <item name="HabitatModel" showIf="inPipeline"/>
>       <item name="OutputOptions" showIf="inPipeline"/>
>       <item name="OutputOptionsSpatial" showIf="inPipeline"/>
>       <item name="OutputSpatialHabitat" showIf="inPipeline"/>
>       <item name="OutputHabitatAmount" showIf="inPipeline"/>
>       <item name="SiteValue" showIf="inPipeline"/>
>       <item name="OutputSpatialAverageHabitat" showIf="inPipeline"/>
>       <item name="InvalidHabitat" showIf="inPipeline"/>
>       <item name="OutputSpatialHabitatChange" showIf="inPipeline"/>
207c222
<         <item name="OutputSpatialHabitat_FileName" displayName="Habitat Probability" dataSheet="OutputSpatialHabitat" column="FileName" />
---
>         <item name="OutputSpatialHabitat_FileName" displayName="Habitat Probability" dataSheet="OutputSpatialHabitat" column="FileName" filter="Species"/>
213c228
<         <item name="OutputSpatialAverageHabitat_FileName" displayName="Average Habitat Probability" dataSheet="OutputSpatialAverageHabitat" column="FileName" />
---
>         <item name="OutputSpatialAverageHabitat_FileName" displayName="Average Habitat Probability" dataSheet="OutputSpatialAverageHabitat" column="FileName" filter="Species"/>
216c231
<         <item name="OutputSpatialHabitatChange_FileName" displayName="Habitat Probability Change" dataSheet="OutputSpatialHabitatChange" column="FileName" />
---
>         <item name="OutputSpatialHabitatChange_FileName" displayName="Habitat Probability Change" dataSheet="OutputSpatialHabitatChange" column="FileName" filter="Species"/>
